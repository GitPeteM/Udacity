import time

import random

def print_pause(message):
    print(message)
    time.sleep(2)


items = []

monster_name = ["Rajang", "Diablos", "Lunastra", "Rathian", "Rathalos", "Yian Kut-Ku"]
random_monster = random.choice(monster_name)

weapon_name = ["Voidsteel Sword", "Dwarven Axe", "Excalibur", "William Wallace Sword", "Elven Inferno Staff"]
random_weapon = random.choice(weapon_name)

def valid_input_two(prompt, option1, option2):
    while True:
        response = input(prompt)
        if option1 in response:
            break
        elif option2 in response:
            break
        else:
            print_pause("Sorry, I do not understand your selection.")
    return response

def valid_input_three(prompt, option1, option2, option3):
    while True:
        response = input(prompt)
        if option1 in response:
            break
        elif option2 in response:
            break
        elif option3 in response:
            break
        else:
            print_pause("Sorry, I do not understand your selection.")
    return response

def intro():
    print_pause("You are an aspiring Merchant from the City Evermore, looking to open up a Merchant Guild in the nearby town of Rivenspire.")
    print_pause("Rivenspire is surrounded by three different types of terrain.")
    print_pause("Hammerfell Mountain Range to the West, Tebath River to the South, and the Forest of Morrowind to the North and East.")
    print_pause("You will need to find the safest path to Rivenspire in order to create a trade route.")

def exploration():
    print_pause("Enter 1 to travel to Hammerfell Mountains.\nEnter 2 to travel to the Forest of Morrowind.\nEnter 3 to travel by the Tebath River.\nWhat would you like to do?")
    choice = valid_input_three("(Please enter 1, 2, or 3.)\n", "1", "2", "3")
    if choice == "1":
        Hammerfell()
    elif choice == "2":
        Morrowind()
    elif choice == "3":
        Tebath()

def Hammerfell():
    print_pause("You travel along the Hammerfell Mountain Range.")
    print_pause("The path diverges up the mountain or into a cave.")
    mountain()

def mountain():
    mountain_choice = valid_input_three("Enter 1 to continue up the path.\nEnter 2 to enter the cave.\nEnter 3 to return to Evermore.\n", "1", "2", "3")
    if mountain_choice == "1":
        mountain_range()
    elif mountain_choice =="2":
        cave()
    elif mountain_choice =="3":
        print_pause("You are welcomed back by the Guards at the Front Gate.")
        exploration()

def mountain_range():
    print_pause("As you move along the path, you hear a sudden rumble from above.")
    print_pause("OH NO! It's an avalanche. You try to flee, but are crushed by the boulders above.")
    print_pause("GAME OVER")
    play_again()

def cave():
    if "weapon" in items:
        print_pause("You peer cautiously into the cave.")
        print_pause("You've been here before, and gotten all the good stuff. It's just an empty cave now.")
        print_pause("You walk back out to the trail path.")
        mountain()
    else:
        print_pause("You peer cautiously into the cave.")
        print_pause("It turns out to be only a very small cave.")
        print_pause("Your eye catches a glint of metal behind a rock.")
        print_pause(f"You have found the " + str(random_weapon) + " of Ogoroth!")
        print_pause("Better safe than sorry on your adventure.")
        print_pause("You walk back out to the trail path.\n")
        items.append("weapon")
        mountain()

def Morrowind():
    print_pause("You approach the Forest of Morrowind and find a local tribe of Elves.")
    print_pause("The Elves do not allow you access to the forest, however are open to trading supplies and goods.")
    print_pause("Would you like discuss trade with the Elven tribe or return to Evermore?")
    forest_choice = valid_input_two("Enter 1 to trade.\nEnter 2 for Evermore.\n", "1", "2")
    if forest_choice == "1":
        trade()
    elif forest_choice == "2":
        print_pause("You return to Evermore.")
        exploration()

def trade():
    print_pause("There are several goods for sale from food, weapons, carts, and ships.")
    if "river" in items:
        if "longboat" in items:
            print_pause("You purchase an Apple Pie from the Elves.")
            print_pause("There's nothing else you need from here.")
            print_pause("You return to Evermore.")
            exploration()
        else:
            print_pause(f"You purchase the Elves' strongest longboat with a bulky hull.")
            print_pause("You return to Evermore with the boat in tow.")
            items.append("longboat")
            exploration()
    else:
        print_pause("You enjoy the Elves' fresh pastries and purchase a dozen chocolate croissants.")
        print_pause("You return to Evermore.")
        exploration()

def Tebath():
    if "river" in items:
        print_pause("The Dockmaster asks if you've aquired a vessel to sail along the river.")
        if "longboat" in items:
            print_pause("Luckily you have purchased the Elven longboat.")
            river_choice = valid_input_two("Press 1 to set sail.\nPress 2 to return to the City.\n", "1", "2")
            if river_choice == "1":
                travel_river()
            elif river_choice == "2":
                print_pause("You leave the Docks.")
                exploration()
        else:
            print_pause("You have not aquired a vessel, you return to the City.")
            exploration()
    else:
        print_pause("You discuss traveling to Rivenspire from Evermore with the Dockmaster.")
        print_pause(f"They tell you a " + str(random_monster) + " has taken over the river, destroying all boats traveling towards Rivenspire.")
        print_pause(f"You determine you'll need a ship with a strong hull to withstand the " + str(random_monster) + "'s attacks.")
        print_pause("You have no way to set sail right now.")
        print_pause("The Dockmaster recalls a ship craftsmaster living with the Elves in the Forest of Morrowind.")
        print_pause("You may want to check out the Elven marketplace.")
        print_pause("You leave the Docks.")
        items.append("river")
        exploration()

def travel_river():
    print_pause(f"You set sail along the Tebath River preparing for your encounter with the " + str(random_monster) + ".")
    print_pause(f"The " + str(random_monster) + " emerges from the water!")
    print_pause(f"The " + str(random_monster) + " attacks you!")
    fight()

def fight():
    print_pause("Would you like to (1) fight or (2) run away?")
    fight_choice = valid_input_two("Please enter 1 or 2.\n", "1", "2")
    if fight_choice == "1":
        if "weapon" in items:
            print_pause(f"As the " + str(random_monster) + " moves to attack, you unsheath your new weapon.")
            print_pause("The " + str(random_weapon) + " of Ogoroth shines brightly in your hand as you brace yourself for the attack.")
            print_pause("But the " + str(random_monster) + " takes one look at your shiny new toy and runs away!")
            print_pause("You have rid the Tebath River of the " + str(random_monster) + ".")
            print_pause("You safely make it to Rivenspire, hailed as a Hero! You are victorious in establishing a Merchant Guild in Rivenspire!")
            play_again()
        else:
            print_pause("You unleash a barrage of arrows at the " + str(random_monster) + ", however they do little damage.")
            print_pause("Your longboat could only withstand so much from the wicked beast.")
            print_pause("The wicked beast unleashes \"HOLY FIRE!\" onto your ship, sinking you to the bottom depths of the river.")
            print_pause("You have been defeated!")
            play_again()
    elif fight_choice == "2":
        print_pause("You escaped the wrath of the wicked beast.")
        print_pause("Luckily, your longboat received minimal damage.")
        print_pause("You return to Evermore, where would you like to go?")
        exploration()

def play_again():
    start_over = valid_input_two("Would you like to play again? (y/n)\n", "y", "n")
    if start_over == "y":
        print_pause("Excellent! Restarting the game...")
        items.clear()
        random_monster.clear()
        random_weapon.clear()
        adventure_game()
    elif start_over == "n":
        print_pause("Thank you for playing.")
    else:
        print_pause("Please select (y/n)")

def adventure_game():
    intro()
    exploration()

# Start of the Adventure
adventure_game()
